<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>key的原理</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<!-- 

		 -->
		<!-- 准备好一个容器-->
		<div id="root">
			<h2>人员列表</h2>
			<button @click="updateWu">更新五的信息</button>
			<ul>
				<li v-for="(p,index) in persons" :key="p.id">
					{{p.name}}-{{p.age}}-{{p.sex}}
				</li>
			</ul>
		</div>
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false



		// 用computed实现
		const vm = new Vue({
			el:'#root',
			data:{
				persons:[
					{id:'001',name:'张三',age:18,sex:'female'},
					{id:'002',name:'王四',age:19,sex:'male'},
					{id:'003',name:'王五',age:20,sex:'female'}
				],
			},
			methods: {
				updateWu(){
					// this.persons[2].name = '吴签'  //奏效
					// this.persons[2].age = 30  //奏效
					// this.persons[2].sex = 'alien'  //奏效

					/* 在内存中已经更改成功，但vue并没有采纳 更新失败*/
					this.persons[2] = {id:'003',name:'吴签',age:30,sex:'alien'}
				}
			},
		})
	</script>
</html>